{"version":3,"file":"index.js","sources":["../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useState } from \"react\";\nimport { Button } from \"antd\";\nimport { Submit } from \"@uform/antd\";\nimport \"./index.scss\";\n\ninterface Props {\n  onCaptureForm: (v: any) => void;\n  onSearchReset?: () => void;\n}\n\nexport default function withSearchBar(\n  WrappedComponent: (props: any) => JSX.Element,\n  props: Props\n): React.FC {\n  return () => {\n    const [isSearch, setIsSearch] = useState(false);\n\n    const onSubmit = (v: any) => {\n      // NOTE:剔除无效值\n      Object.keys(v).map(key => {\n        // NOTE:非 true 值都是无效值\n        if (!v[key]) {\n          delete v[key];\n        }\n      });\n\n      // NOTE: 应该判断当 v 是空对象时不触发\n      if (Object.keys(v).length > 0) {\n        /* eslint-disable-next-line */\n        props.onCaptureForm(v);\n        setIsSearch(true);\n      }\n    };\n\n    const onReset = () => {\n      const { onSearchReset } = props;\n      if (onSearchReset) {\n        onSearchReset();\n      }\n      setIsSearch(false);\n    };\n\n    return (\n      <WrappedComponent onSubmit={onSubmit} isSearch={isSearch}>\n        <div className=\"btn_search_groups\">\n          <Submit />\n          <div className=\"space w20\" />\n          {isSearch ? (\n            <Button type=\"primary\" onClick={onReset}>\n              全部\n            </Button>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </WrappedComponent>\n    );\n  };\n}\n"],"names":["React","Submit","Button"],"mappings":";;;;;;;;;;;AAAA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC7B,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE5B,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAExD,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC5C,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAExB,IAAI,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C,MAAM;MACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACzB;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GACzB;;EAED,IAAI,KAAK,CAAC,UAAU,EAAE;IACpB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;GAChC,MAAM;IACL,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;GACjD;CACF;;;;;SCfuB,aAAa,CACnC,gBAA6C,EAC7C,KAAY;IAEZ,OAAO;QACC,IAAA,0BAAyC,EAAxC,gBAAQ,EAAE,mBAA8B,CAAC;QAEhD,IAAM,QAAQ,GAAG,UAAC,CAAM;;YAEtB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG;;gBAEpB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;oBACX,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;iBACf;aACF,CAAC,CAAC;;YAGH,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAE7B,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACvB,WAAW,CAAC,IAAI,CAAC,CAAC;aACnB;SACF,CAAC;QAEF,IAAM,OAAO,GAAG;YACN,IAAA,mCAAa,CAAW;YAChC,IAAI,aAAa,EAAE;gBACjB,aAAa,EAAE,CAAC;aACjB;YACD,WAAW,CAAC,KAAK,CAAC,CAAC;SACpB,CAAC;QAEF,QACEA,6BAAC,gBAAgB,IAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ;YACtDA,sCAAK,SAAS,EAAC,mBAAmB;gBAChCA,6BAACC,aAAM,OAAG;gBACVD,sCAAK,SAAS,EAAC,WAAW,GAAG;gBAC5B,QAAQ,IACPA,6BAACE,WAAM,IAAC,IAAI,EAAC,SAAS,EAAC,OAAO,EAAE,OAAO,mBAE9B,KAET,EAAE,CACH,CACG,CACW,EACnB;KACH,CAAC;CACH;;;;"}